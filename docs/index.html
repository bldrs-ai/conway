<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>conway - v0.7.727</title><meta name="description" content="Documentation for conway"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">conway - v0.7.727</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>conway - v0.7.727</h1></div><div class="tsd-panel tsd-typography"><a id="conway" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Conway<a href="#conway" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Conway powers <a href="https://github.com/bldrs-ai/Share">Bldrs Share</a>, bringing high-quality, precision CAD to the web. This cutting-edge CAD engine, designed specifically for IFC and STEP formats, offers advanced geometric representation, enabling teams to open and visualize intricate models with exceptional accuracy and speed.</p>
<p>Conway includes two major subcomponents:</p>
<ul>
<li><strong><a href="https://github.com/bldrs-ai/conway/tree/main/src/ifc/ifc4_gen">IFC-gen</a></strong>, a mostly autogenerated TypeScript framework (~400kloc) for full API coverage parsing of the IFC 2x3, 4 compliant <code>*.ifc</code> files, and initial support for <a href="https://en.wikipedia.org/wiki/ISO_10303-21">STEP AP2xx</a> <code>*.step</code> files to support Automotive and 3D-printing applications.  This is based on original work by <a href="https://github.com/hypar-io/IFC-gen">hypar-io/IFC-gen</a>, further developed by bldrs-ai for Conway.  The runtime is fully open-source in this project.  Please contact us for full access to our generation pipeline.</li>
<li><strong><a href="https://github.com/bldrs-ai/conway-geom">conway-geom</a> WASM core</strong>, bldrs-aiâ€™s rewrite of <a href="https://github.com/ThatOpen/engine_web-ifc">web-ifc</a>, engineered for high-performance and to support the full suite of open CAD standards within the IFC and STEP families.</li>
</ul>
<a id="getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="deps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Deps<a href="#deps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Conway generates a lot of code. To run code-generation, you'll need to install version 6.0 of the .NET framework.</p>
<p>On a Ubuntu or Debian style distribution, you can install it like so:</p>
<pre><code><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-0">apt</span><span class="hl-1">-</span><span class="hl-0">get</span><span class="hl-1"> </span><span class="hl-0">update</span><span class="hl-1"> &amp;&amp; \</span><br/><span class="hl-1">  </span><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-0">apt</span><span class="hl-1">-</span><span class="hl-0">get</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> -</span><span class="hl-0">y</span><span class="hl-1"> </span><span class="hl-0">dotnet</span><span class="hl-1">-</span><span class="hl-0">sdk</span><span class="hl-1">-</span><span class="hl-2">6.0</span>
</code><button>Copy</button></pre>

<p>On macOS, it should be installable with brew using:</p>
<pre><code><span class="hl-0">brew</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">dotnet</span><span class="hl-1">@</span><span class="hl-2">6</span>
</code><button>Copy</button></pre>

<a id="initial-build" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Initial Build<a href="#initial-build" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Clone the repository, then in the root directory of the repository, run the yarn install, followed by using yarn to initialise the IFC-gen submodule:</p>
<pre><code><span class="hl-1"># </span><span class="hl-2">1</span><span class="hl-1">) </span><span class="hl-0">Setup</span><span class="hl-1"> </span><span class="hl-0">your</span><span class="hl-1"> </span><span class="hl-3">EMSDK</span><span class="hl-1"> </span><span class="hl-0">environment</span><br/><span class="hl-1"># </span><span class="hl-2">2</span><span class="hl-1">) </span><span class="hl-0">Make</span><span class="hl-1"> </span><span class="hl-0">sure</span><span class="hl-1"> </span><span class="hl-0">you</span><span class="hl-4">&#39;re in main repo, not for</span><span class="hl-5">k</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">pull</span><span class="hl-1">  # </span><span class="hl-6">if</span><span class="hl-1"> </span><span class="hl-0">you</span><span class="hl-1"> </span><span class="hl-0">get</span><span class="hl-1"> </span><span class="hl-0">an</span><span class="hl-1"> </span><span class="hl-0">error</span><span class="hl-1"> </span><span class="hl-0">about</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-0">submodule</span><span class="hl-1"> </span><span class="hl-0">not</span><span class="hl-1"> </span><span class="hl-0">found</span><span class="hl-1">, </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">submodule</span><span class="hl-1">-</span><span class="hl-0">update</span><span class="hl-1"> </span><span class="hl-0">here</span><span class="hl-1"> </span><span class="hl-0">and</span><span class="hl-1"> </span><span class="hl-0">then</span><span class="hl-1"> </span><span class="hl-0">pull</span><span class="hl-1"> </span><span class="hl-0">again</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">install</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">submodule</span><span class="hl-1">-</span><span class="hl-0">update</span><br/><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-0">dependencies</span><span class="hl-1">/</span><span class="hl-0">conway</span><span class="hl-1">-</span><span class="hl-0">geom</span><span class="hl-1">/</span><span class="hl-0">dependencies</span><span class="hl-1">/</span><span class="hl-0">wasm</span><span class="hl-1">/</span><br/><span class="hl-1"># </span><span class="hl-0">Answer</span><span class="hl-1"> </span><span class="hl-0">yes</span><span class="hl-1"> </span><span class="hl-0">or</span><span class="hl-1"> </span><span class="hl-0">all</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">replace</span><span class="hl-1"> </span><span class="hl-0">files</span><span class="hl-1"> </span><span class="hl-6">if</span><span class="hl-1"> </span><span class="hl-0">they</span><span class="hl-4">&#39;ve already been unzipped befor</span><span class="hl-5">e</span><br/><span class="hl-0">unzip</span><span class="hl-1"> </span><span class="hl-0">dependencies</span><span class="hl-1">.</span><span class="hl-0">zip</span><br/><span class="hl-0">cd</span><span class="hl-1"> -</span><br/><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code><button>Copy</button></pre>

<a id="pulling-in-updated-source-changes" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Pulling in Updated Source Changes<a href="#pulling-in-updated-source-changes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>After this, you can build using either an incremental build (which will rebuild the typescript only and will lead to the fastest build times), a yarn build (will recompile the wasm module and build the typescript source), or a full rebuild, which will clean all build artefacts and perform code-gen, before running a build.</p>
<p>For the incremental build:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1">-</span><span class="hl-0">incremental</span>
</code><button>Copy</button></pre>

<p>For the wasm / typescript build:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span>
</code><button>Copy</button></pre>

<p>For a full, clean rebuild:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1">-</span><span class="hl-0">rebuild</span>
</code><button>Copy</button></pre>

<p>You can also run the tests with jest:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code><button>Copy</button></pre>

<p>And finally, using the watch functionality, you can also have the code automatically rebuild on change and also re-run the tests using:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1">-</span><span class="hl-0">test</span><span class="hl-1">-</span><span class="hl-0">watch</span>
</code><button>Copy</button></pre>

<p>If you have Visual Studio Code, Conway also comes with a Visual Studio Code workspace to add IDE accessability to these features, and also let you edit the IFC-gen C# code in place.</p>
<a id="production-npm-build" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Production NPM Build<a href="#production-npm-build" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">test</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1">                      # </span><span class="hl-0">stamps</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1"> </span><span class="hl-0">version</span><span class="hl-1"> </span><span class="hl-0">string</span><br/><span class="hl-0">grep</span><span class="hl-1"> </span><span class="hl-4">&#39;&quot;version&quot;&#39;</span><span class="hl-1"> </span><span class="hl-0">package</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">   # </span><span class="hl-0">should</span><span class="hl-1"> </span><span class="hl-0">see</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">version</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">, </span><span class="hl-2">1</span><span class="hl-1"> </span><span class="hl-0">more</span><span class="hl-1"> </span><span class="hl-0">than</span><span class="hl-1"> </span><span class="hl-0">what</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">repo</span><span class="hl-1"> </span><span class="hl-0">shows</span><span class="hl-1"> </span><span class="hl-7">in</span><span class="hl-1"> </span><span class="hl-3">GH</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">pack</span>
</code><button>Copy</button></pre>

<a id="push-to-production-h3--share" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Push to Production: H3 &amp; Share<a href="#push-to-production-h3--share" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The following process works the same for headless-three and Share.</p>
<p>Do H3 first, then Share</p>
<pre><code><span class="hl-0">cp</span><span class="hl-1"> </span><span class="hl-0">bldrs</span><span class="hl-1">-</span><span class="hl-0">ai</span><span class="hl-1">-</span><span class="hl-0">conway</span><span class="hl-1">-&lt;</span><span class="hl-8">VERSION</span><span class="hl-1">&gt;.</span><span class="hl-0">tgz</span><span class="hl-1"> </span><span class="hl-0">$H3_DIR</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-0">$H3_DIR</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1"> </span><span class="hl-0">upstream</span><span class="hl-1"> # </span><span class="hl-0">or</span><span class="hl-1"> </span><span class="hl-0">origin</span><span class="hl-1"> </span><span class="hl-6">if</span><span class="hl-1"> </span><span class="hl-0">not</span><span class="hl-1"> </span><span class="hl-0">on</span><span class="hl-1"> </span><span class="hl-0">fork</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">checkout</span><span class="hl-1"> -</span><span class="hl-0">b</span><span class="hl-1"> </span><span class="hl-0">conway</span><span class="hl-1">-&lt;</span><span class="hl-8">VERSION</span><span class="hl-1">&gt; </span><span class="hl-0">upstream</span><span class="hl-1">/</span><span class="hl-0">main</span><br/><span class="hl-0">rm</span><span class="hl-1"> </span><span class="hl-0">bldrs</span><span class="hl-1">-</span><span class="hl-0">ai</span><span class="hl-1">-</span><span class="hl-0">conway</span><span class="hl-1">-&lt;</span><span class="hl-8">OLD</span><span class="hl-1"> </span><span class="hl-8">VERSION</span><span class="hl-1">&gt;.</span><span class="hl-0">tgz</span><br/><span class="hl-1">## </span><span class="hl-3">OLD</span><span class="hl-1"> </span><span class="hl-9">WAY</span><span class="hl-1">: </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">remove</span><span class="hl-1"> @</span><span class="hl-0">bldrs</span><span class="hl-1">-</span><span class="hl-0">ai</span><span class="hl-1">/</span><span class="hl-0">conway</span><br/><span class="hl-1">## </span><span class="hl-3">OLD</span><span class="hl-1"> </span><span class="hl-9">WAY</span><span class="hl-1">: </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> ./</span><span class="hl-0">bldrs</span><span class="hl-1">-</span><span class="hl-0">ai</span><span class="hl-1">-</span><span class="hl-0">conway</span><span class="hl-1">-&lt;</span><span class="hl-8">VERSION</span><span class="hl-1">&gt;.</span><span class="hl-0">tgz</span><br/><span class="hl-1">## </span><span class="hl-0">New</span><span class="hl-1"> </span><span class="hl-9">way</span><span class="hl-1">: </span><span class="hl-0">edit</span><span class="hl-1"> </span><span class="hl-0">package</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1"> </span><span class="hl-0">dep</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">conway</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">point</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">filename</span><span class="hl-1">.</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">install</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">test</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">serve</span><br/><span class="hl-1"># </span><span class="hl-0">Smoke</span><span class="hl-1"> </span><span class="hl-0">test</span><span class="hl-1"> </span><span class="hl-0">local</span><span class="hl-1"> </span><span class="hl-9">candidate</span><span class="hl-1">: </span><span class="hl-0">load</span><span class="hl-1"> </span><span class="hl-0">all</span><span class="hl-1"> </span><span class="hl-0">sample</span><span class="hl-1"> </span><span class="hl-0">models</span><span class="hl-1">, </span><span class="hl-0">load</span><span class="hl-1"> </span><span class="hl-0">local</span><span class="hl-1"> </span><span class="hl-0">model</span><span class="hl-1">, </span><span class="hl-0">exercise</span><span class="hl-1"> </span><span class="hl-0">dialogs</span><span class="hl-1">, </span><span class="hl-0">etc</span><span class="hl-1">.</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> . ; </span><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">ci</span><span class="hl-1"> -</span><span class="hl-0">m</span><span class="hl-1"> </span><span class="hl-4">&#39;Upgrad of conway from &lt;OLD VERSION&gt; to &lt;VERSION&gt;&#39;</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">push</span><span class="hl-1"> </span><span class="hl-0">origin</span><span class="hl-1"> </span><span class="hl-3">HEAD</span><br/><span class="hl-1"># </span><span class="hl-2">1</span><span class="hl-1">) </span><span class="hl-0">Send</span><span class="hl-1"> </span><span class="hl-3">PR</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">review</span><br/><span class="hl-1"># </span><span class="hl-2">2</span><span class="hl-1">) </span><span class="hl-0">On</span><span class="hl-1"> </span><span class="hl-0">merge</span><span class="hl-1">, </span><span class="hl-0">Netlify</span><span class="hl-1"> </span><span class="hl-0">will</span><span class="hl-1"> </span><span class="hl-0">detect</span><span class="hl-1"> </span><span class="hl-0">and</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1"> </span><span class="hl-0">and</span><span class="hl-1"> </span><span class="hl-0">deploy</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">prod</span><span class="hl-1">; </span><span class="hl-0">watch</span><span class="hl-1"> </span><span class="hl-0">deploy</span><span class="hl-1"> </span><span class="hl-0">logs</span><span class="hl-1"> </span><span class="hl-0">on</span><span class="hl-1"> </span><span class="hl-0">Netlify</span><br/><span class="hl-1"># </span><span class="hl-2">3</span><span class="hl-1">) </span><span class="hl-0">Smoke</span><span class="hl-1"> </span><span class="hl-0">test</span><span class="hl-1"> </span><span class="hl-0">prod</span><span class="hl-1">.  </span><span class="hl-0">Same</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-8">above</span><br/><span class="hl-1"># </span><span class="hl-2">4</span><span class="hl-1">) </span><span class="hl-0">Post</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> #</span><span class="hl-0">bot</span><span class="hl-1"> </span><span class="hl-0">or</span><span class="hl-1"> #</span><span class="hl-0">share</span><span class="hl-1"> </span><span class="hl-4">&quot;New Conway &lt;VERSION&gt; in prod&quot;</span><span class="hl-1"> </span><span class="hl-6">with</span><span class="hl-1"> </span><span class="hl-0">linked</span><span class="hl-1"> </span><span class="hl-0">changelist</span>
</code><button>Copy</button></pre>

<a id="ifc-parser-console-test-application" class="tsd-anchor"></a><h1 class="tsd-anchor-link">IFC Parser Console Test Application<a href="#ifc-parser-console-test-application" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Conway has a test application for parsing IFC step files to see the performance and included entity types at src/core/ifc/ifc_command_line_main.ts.
Use an incremental or full build to compile this file from typescript and then it can be run with:</p>
<pre><code><span class="hl-0">node</span><span class="hl-1"> --</span><span class="hl-0">experimental</span><span class="hl-1">-</span><span class="hl-0">specifier</span><span class="hl-1">-</span><span class="hl-0">resolution</span><span class="hl-1">=</span><span class="hl-0">node</span><span class="hl-1"> ./</span><span class="hl-0">compiled</span><span class="hl-1">/</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">ifc</span><span class="hl-1">/</span><span class="hl-0">ifc_command_line_main</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> [</span><span class="hl-0">ifc</span><span class="hl-1"> </span><span class="hl-0">file</span><span class="hl-1"> </span><span class="hl-0">path</span><span class="hl-1">]</span><br/><span class="hl-0">node</span><span class="hl-1"> --</span><span class="hl-0">experimental</span><span class="hl-1">-</span><span class="hl-0">specifier</span><span class="hl-1">-</span><span class="hl-0">resolution</span><span class="hl-1">=</span><span class="hl-0">node</span><span class="hl-1"> ./</span><span class="hl-0">compiled</span><span class="hl-1">/</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">ifc</span><span class="hl-1">/</span><span class="hl-0">ifc_command_line_main</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> -</span><span class="hl-0">g</span><span class="hl-1"> [</span><span class="hl-0">ifc</span><span class="hl-1"> </span><span class="hl-0">file</span><span class="hl-1"> </span><span class="hl-0">path</span><span class="hl-1">]</span>
</code><button>Copy</button></pre>

<p>The included index.ifc in the repo is recommended for testing.</p>
<a id="profiling-wasm-builds-in-node" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Profiling WASM Builds in Node<a href="#profiling-wasm-builds-in-node" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Profiling Conway, including building a Conway-Geom WASM binary with DWARF information and generating a flame graph with WASM symbols, is possible via the following steps:</p>
<ol>
<li>Run <em>build-profile-conway_geom</em> from Conway's package.json</li>
<li>Profile your app:</li>
</ol>
<pre><code><span class="hl-0">node</span><span class="hl-1"> --</span><span class="hl-0">prof</span><span class="hl-1"> --</span><span class="hl-0">experimental</span><span class="hl-1">-</span><span class="hl-0">specifier</span><span class="hl-1">-</span><span class="hl-0">resolution</span><span class="hl-1">=</span><span class="hl-0">node</span><span class="hl-1"> /</span><span class="hl-0">Users</span><span class="hl-1">/</span><span class="hl-0">soar</span><span class="hl-1">/</span><span class="hl-0">Documents</span><span class="hl-1">/</span><span class="hl-0">GitHub</span><span class="hl-1">/</span><span class="hl-0">conway</span><span class="hl-1">/</span><span class="hl-0">compiled</span><span class="hl-1">/</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">ifc</span><span class="hl-1">/</span><span class="hl-0">ifc_command_line_main</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> /</span><span class="hl-0">Users</span><span class="hl-1">/</span><span class="hl-0">soar</span><span class="hl-1">/</span><span class="hl-0">Downloads</span><span class="hl-1">/</span><span class="hl-0">Schependomlaan</span><span class="hl-1">.</span><span class="hl-0">ifc</span><span class="hl-1"> -</span><span class="hl-0">g</span>
</code><button>Copy</button></pre>

<ol start="3">
<li>An isolate*.log file will be generated. Run:</li>
</ol>
<pre><code><span class="hl-0">node</span><span class="hl-1"> --</span><span class="hl-0">prof</span><span class="hl-1">-</span><span class="hl-0">process</span><span class="hl-1"> --</span><span class="hl-0">preprocess</span><span class="hl-1"> -</span><span class="hl-0">j</span><span class="hl-1"> </span><span class="hl-0">isolate</span><span class="hl-1">*.</span><span class="hl-0">log</span><span class="hl-1"> &gt; </span><span class="hl-0">v8</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1"> # </span><span class="hl-0">generate</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-3">V8</span><span class="hl-1"> </span><span class="hl-0">log</span>
</code><button>Copy</button></pre>

<ol start="4">
<li>Go to <a href="https://mapbox.github.io/flamebearer/">https://mapbox.github.io/flamebearer/</a> and drop the log file to see a detailed flame graph.</li>
</ol>
<a id="problems-with-renaming-in-git-merges" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Problems with renaming in GIT merges<a href="#problems-with-renaming-in-git-merges" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Because of the large number of files in conway that are code changes sometimes causing large modifications in merges, especially if generation locations are changed, it's sometimes necessary to up the limit of the number of renames in the git config for merging. It can be done like so:</p>
<pre><code><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">config</span><span class="hl-1"> </span><span class="hl-0">merge</span><span class="hl-1">.</span><span class="hl-0">renameLimit</span><span class="hl-1"> </span><span class="hl-2">99999</span>
</code><button>Copy</button></pre>

<p>You may also wish to use a low rename threshold no-commit merge strategy for some of these situations to increase likelyhood that files will be related in the merge process and to track some of the more complicated changes:</p>
<pre><code><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">merge</span><span class="hl-1"> -</span><span class="hl-3">X</span><span class="hl-1"> </span><span class="hl-0">rename</span><span class="hl-1">-</span><span class="hl-0">threshold</span><span class="hl-1">=</span><span class="hl-2">25</span><span class="hl-1"> --</span><span class="hl-0">no</span><span class="hl-1">-</span><span class="hl-0">commit</span>
</code><button>Copy</button></pre>

<a id="regression-testing-framework" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Regression Testing Framework<a href="#regression-testing-framework" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Conway also has a regression testing framework, which can be run on individual model files in a digest or verbose mode, or as a large batch across several models at the same time. For more details see the <a href="media/README.MD">documentation</a>.</p>
<a id="release-steps" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Release Steps<a href="#release-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ol>
<li>Build Conway with <code>yarn build</code> via the above steps depending on your platform.</li>
<li>Run the performance test script, instructions outlined in the <a href="media/README.md">performance documentation</a></li>
<li>Run the regression testing batch script, instructions outlined in the <a href="media/README-1.md">regression documentation</a></li>
<li>Run <code>yarn create-release-candidate &lt;major | minor&gt; &lt;GITHUB_PAT&gt;</code>. This package release is by default tagged &quot;latest&quot;.</li>
<li>Send PR with updated version + benchmarks and await approval.</li>
<li>Once approved, Go to GitHub, select the new tagged version, and create a release from it. This means we also have changelogs for patch level releases.</li>
<li>Once release has been deployed into Share, tag package as stable.</li>
</ol>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#conway"><span>Conway</span></a><ul><li><a href="#getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#deps"><span>Deps</span></a></li><li><a href="#initial-build"><span>Initial <wbr/>Build</span></a></li><li><a href="#pulling-in-updated-source-changes"><span>Pulling in <wbr/>Updated <wbr/>Source <wbr/>Changes</span></a></li></ul></li></ul><a href="#production-npm-build"><span>Production NPM <wbr/>Build</span></a><ul><li><a href="#push-to-production-h3--share"><span>Push to <wbr/>Production: <wbr/>H3 &amp; <wbr/>Share</span></a></li></ul><a href="#ifc-parser-console-test-application"><span>IFC <wbr/>Parser <wbr/>Console <wbr/>Test <wbr/>Application</span></a><a href="#profiling-wasm-builds-in-node"><span>Profiling WASM <wbr/>Builds in <wbr/>Node</span></a><a href="#problems-with-renaming-in-git-merges"><span>Problems with renaming in GIT merges</span></a><a href="#regression-testing-framework"><span>Regression <wbr/>Testing <wbr/>Framework</span></a><a href="#release-steps"><span>Release <wbr/>Steps</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">conway - v0.7.727</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
